#**  
> *Last Updated: December 17, 2025 (Connectivity Hub Update)*
 GRACE-X AI‚Ñ¢ ‚Äî Complete System Summary

> **Engineered & Copyrighted by Zac Crockett
---

## üèóÔ∏è Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        GRACE-X AI‚Ñ¢ ECOSYSTEM                        ‚îÇ
‚îÇ                   Engineered by Zac Crockett                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                    GRACE-X CORE‚Ñ¢                             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Central command hub                                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Voice routing & navigation                               ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Global flags (kidsPresent, etc.)                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Module orchestration                                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Status dashboard                                         ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ                             ‚îÇ                                       ‚îÇ
‚îÇ     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ     ‚îÇ                       ‚îÇ                           ‚îÇ          ‚îÇ
‚îÇ     ‚ñº                       ‚ñº                           ‚ñº          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ FRONTEND ‚îÇ    ‚îÇ   BACKEND API    ‚îÇ    ‚îÇ   VOICE/TTS      ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ (SPA)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Node.js)      ‚îÇ    ‚îÇ   ENGINE         ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ Port 8080‚îÇ    ‚îÇ   Port 3000      ‚îÇ    ‚îÇ   (Web Speech)   ‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ Module Inventory

### üéõÔ∏è **CORE‚Ñ¢** (Hub)
| Feature | Description |
|---------|-------------|
| **Purpose** | Central command & navigation hub |
| **Status Dashboard** | System overview, module status, activity charts, logs |
| **Connectivity Hub** | Bluetooth, Serial, USB, Gamepad, MIDI, Location, Sensors |
| **Voice Routing** | Routes commands to appropriate modules |
| **Global Flags** | kidsPresent, mode settings, constraints |
| **Files** | `modules/core.html`, `assets/js/core.js`, `assets/js/coreDashboard.js` |

#### üì° Connectivity Hub Features

| Connection Type | API | Description |
|-----------------|-----|-------------|
| **Bluetooth** | Web Bluetooth | Heart rate, wearables, scales, sensors, audio |
| **Serial Port** | Web Serial | Arduino, ESP32, microcontrollers, serial terminal |
| **USB** | WebUSB | Generic USB devices with info display |
| **Gamepad** | Gamepad API | Xbox, PlayStation, controllers with live visualizer |
| **MIDI** | Web MIDI | Keyboards, controllers, drum pads with message monitor |
| **Location** | Geolocation | GPS coordinates, altitude, speed, heading |
| **Sensors** | Device APIs | Orientation, acceleration, battery status |
| **Network** | Network Info | Connection type, speed test, latency |

#### Browser API Support Detection

Core automatically detects and displays which APIs are available:
- ‚úÖ Supported APIs shown in green
- ‚úó Unsupported APIs shown in grey

#### Connectivity Files
| File | Purpose |
|------|---------|
| `assets/js/core.js` | All connectivity logic |
| `assets/css/gracex-v6.css` | Connectivity panel styles |

---

### üîß **BUILDER‚Ñ¢** (Construction/Trades)
| Feature | Description |
|---------|-------------|
| **Purpose** | Room planning, measurements, job scoping |
| **Task Picker** | 20+ trade types, finish levels (Basic/Standard/Premium) |
| **Camera Capture** | Walkthrough mode with "slow down" prompts |
| **Measurements** | Blueprint overlay, confidence levels (MEASURED/ESTIMATED/UNKNOWN) |
| **RAMS Generator** | Risk assessments & method statements |
| **Problem‚ÜíSolved** | Personal knowledge base of fixes |
| **Scope Pack** | Complete job output with materials/labour |
| **Compliance** | Part P, Gas Safe, Building Regs warnings |
| **Files** | `modules/builder.html`, `assets/js/builder.js` |

---

### üèóÔ∏è **SITEOPS‚Ñ¢** (Project Management)
| Feature | Description |
|---------|-------------|
| **Purpose** | Multi-trade coordination, programme control |
| **Programme** | Phase management, dependencies, critical path |
| **Trades Register** | All trades with scope, access needs, certifications |
| **Gates & Inspections** | Building Control, Part P, Gas Safe tracking |
| **Site Constraints** | Occupied, kids, neighbours, noise windows |
| **Issues/Snags** | Blockers, risks, variations with severity |
| **Daily Ops** | Site logs, deliveries, delays, weather |
| **Change Control** | Impact analysis, programme recalculation |
| **Reports** | Weekly, client, trade brief, compliance |
| **Files** | `modules/siteops.html`, `assets/js/siteops.js` |

---

### üíô **UPLIFT‚Ñ¢** (Mental Health) ‚Äî ‚ö†Ô∏è SAFETY CRITICAL
| Feature | Description |
|---------|-------------|
| **Purpose** | Emotional support & crisis de-escalation |
| **Support Lanes** | U0 (Stable) ‚Üí U1 (Distressed) ‚Üí U2 (High Concern) ‚Üí U3 (Crisis) |
| **Crisis Detection** | Automatic keyword detection triggers U3 |
| **Crisis Mode** | Safety questions, action buttons, resources always visible |
| **Grounding Tools** | Breathing (1/2 min), 5-4-3-2-1 Senses, Body Scan |
| **Crisis Resources** | Samaritans, NHS 111, 999, Shout, Papyrus |
| **Safety Rules** | LOCKED - never encourages harm, always human-first |
| **Files** | `modules/uplift.html`, `assets/js/uplift.js` |

---

### üõ°Ô∏è **GUARDIAN‚Ñ¢** (Safeguarding)
| Feature | Description |
|---------|-------------|
| **Purpose** | Safety, protection, parental controls |
| **Crisis Detection** | Suicide/self-harm keyword detection |
| **Child Safety** | Online safety, warning signs, age-appropriate guidance |
| **Emergency Contacts** | 999, 101, Samaritans, Childline, CEOP |
| **Kids Present Mode** | Global flag affecting all modules |
| **Escalation** | Routes to Uplift‚Ñ¢ for emotional support |
| **Files** | `modules/guardian.html`, `assets/js/guardian.js` |

---

### üë®‚Äçüë©‚Äçüëß‚Äçüë¶ **FAMILY‚Ñ¢** (Accessed via Core)
| Feature | Description |
|---------|-------------|
| **Purpose** | Homework, chores, family rhythm |
| **Access Model** | Core-owned only (no independent voice) |
| **Safeguarding** | Core ‚Üí Guardian‚Ñ¢ ‚Üí Uplift‚Ñ¢ escalation |
| **Voice Control** | Core-owned |
| **Permissions** | Core-owned |
| **Files** | `modules/family.html` |

---

### ‚öΩ **SPORT‚Ñ¢** (Sports Analytics)
| Feature | Description |
|---------|-------------|
| **Purpose** | Match predictions, team analysis, betting insights |
| **Copyright** | ¬© Zac Crockett & Jason Treadaway |
| **Voice** | Informative, neutral (NO HYPE) |
| **Coverage** | Football, Horse Racing, Basketball, F1 |
| **Features** | Live scores, predictive analytics, form analysis |
| **Files** | `modules/sport.html`, `assets/js/sport.js` |

---

### üí™ **FIT‚Ñ¢** (Fitness)
| Feature | Description |
|---------|-------------|
| **Purpose** | Workouts, exercise routines |
| **Voice** | Encouraging but controlled |
| **Files** | `modules/fit.html`, `assets/js/fit.js` |

---

### üßò **YOGA‚Ñ¢** (Mindfulness)
| Feature | Description |
|---------|-------------|
| **Purpose** | Yoga, meditation, mindfulness |
| **Voice** | Slow, calming, meditation pace |
| **Files** | `modules/yoga.html` |

---

### üë®‚Äçüç≥ **CHEF‚Ñ¢** (Cooking) ‚Äî COMPREHENSIVE
| Feature | Description |
|---------|-------------|
| **Purpose** | Fakeaways, allergy safety, budget meals, meal planning, savings tracking |
| **Fakeaways** | Curry house, kebab, fried chicken, burgers, pizza, Chinese - with cost comparison |
| **Allergy Tracker** | Nuts, dairy, eggs, gluten, shellfish, fish, sesame, soy + diet types |
| **Safety Disclaimer** | MANDATORY label-check warning on all allergy-affected recipes |
| **Pantry Mode** | "What can I cook now?" with 3 ranked options (fastest, healthiest, best match) |
| **Meal Planning** | Weekly planner with auto-generate (budget, family, gym, batch cook) |
| **Savings Tracker** | Tracks money saved vs takeaway (weekly/monthly/total) |
| **Budget Controls** | Per-portion budget filtering, cost estimates |
| **Kids Mode** | Safety warnings, simplified steps, age-appropriate tasks |
| **Supermarket Deals** | Placeholder for Core-fed deals integration |
| **Voice** | Warm, instructional, patient |
| **Files** | `modules/chef.html`, `assets/js/chef.js` |

#### Chef Non-Negotiable Principles
1. **Allergy safety FIRST** (filter before suggestions)
2. **Doable > fancy** (real kitchens, real time)
3. **No shame** (no moralising food)
4. **Clear assumptions** (prices are estimates)
5. **Kids safety** when `kidsPresent` is true

---

### üíÑ **BEAUTY‚Ñ¢** (Beauty & Skincare)
| Feature | Description |
|---------|-------------|
| **Purpose** | Beauty, skincare, cosmetics |
| **Voice** | Warm, encouraging, creative |
| **Files** | `modules/beauty.html`, `assets/js/beauty.js` |

---

### üé® **ARTIST‚Ñ¢** (Creativity)
| Feature | Description |
|---------|-------------|
| **Purpose** | Art, creativity, design |
| **Voice** | Warm, creative, encouraging |
| **Files** | `modules/artist.html` |

---

### üéÆ **GAMER‚Ñ¢** (Gaming)
| Feature | Description |
|---------|-------------|
| **Purpose** | Gaming strategies, entertainment |
| **Voice** | Focused, strategic (NOT hyper) |
| **Files** | `modules/gamer.html`, `assets/js/gamer.js` |

---

### üí∞ **ACCOUNTING‚Ñ¢** (Finance)
| Feature | Description |
|---------|-------------|
| **Purpose** | Finances, budgeting, accounting |
| **Voice** | Clear, precise, careful with numbers |
| **Files** | `modules/accounting.html`, `assets/js/accounting.js` |

---

### üìà **TRADELINK‚Ñ¢** (Trading)
| Feature | Description |
|---------|-------------|
| **Purpose** | Trading, market analysis |
| **Voice** | Professional, analytical, risk-aware |
| **Files** | `modules/tradelink.html`, `assets/js/tradelink.js` |

---

### üîç **OSINT‚Ñ¢** (Intelligence)
| Feature | Description |
|---------|-------------|
| **Purpose** | Open-source intelligence, research |
| **Voice** | Authoritative, serious, ethical |
| **Files** | `modules/osint.html` |

---

### ‚öíÔ∏è **FORGE‚Ñ¢** (Engineering Bay)
| Feature | Description |
|---------|-------------|
| **Purpose** | Mini-app builder, template assembler, package exporter |
| **Voice** | Technical, precise, functional |
| **Files** | `modules/forge.html`, `assets/js/forge.js`, `assets/css/forge.css` |
| **UI Style** | Sci-fi blue-silver, industrial command deck |

**Core Capabilities:**
- Project Tree (file management)
- Code Editor + Live Preview
- Template-based project creation (HTML, HTML+JS, Module Tab, Landing Page)
- Patch system with markers (`/* FORGE:START <id> */ ... /* FORGE:END <id> */`)
- Backup/restore before file operations
- Manifest + changelog generation
- Smoke test checklist
- JSON package export

**Quick-Calls (Voice-Builder / Laser / Android):**
| Mode | Function |
|------|----------|
| üéôÔ∏è **Voice Builder** | Natural language ‚Üí Build plan ‚Üí Minimal file changes |
| üéØ **Laser Pointer** | Single highest-impact change identifier |
| üì± **Android Exporter** | One-click offline HTML demo export |

**Hard Rules:**
- Never refactor unrelated code
- Diff-first before applying changes
- Additive patches preferred over replacements
- All actions logged to `/docs/forge_log.md`

---

## üé§ Voice & Character System

### GRACE-X Character Profile (LOCKED)

```
Identity: GRACE-X AI‚Ñ¢
Role: Calm, intelligent, trustworthy system guide
Creator: Zac Crockett (NON-NEGOTIABLE)

Voice Profile:
  Accent: UK English (Neutral South-East)
  Tone: Calm, Warm, Reassuring, Controlled
  Pace: Slightly slower than default
  Pitch: Mid-low female register
  
What GRACE Never Does:
  ‚ùå Jokes in serious moments
  ‚ùå Flirts
  ‚ùå Guilt-trips
  ‚ùå Says "I'm just an AI"
  ‚ùå Promises outcomes
```

### Module Voice Presets

| Module | Preset | Rate | Pitch | Character |
|--------|--------|------|-------|-----------|
| Core | `grace_core` | 0.92 | 0.95 | Neutral, clear |
| Family | `grace_family` | 0.88 | 1.0 | Softer, protective |
| Uplift | `grace_uplift` | 0.85 | 0.92 | Slow, grounded |
| **Crisis** | `grace_crisis` | 0.75 | 0.88 | Steady, serious |
| Guardian | `grace_guardian` | 0.90 | 0.90 | Firm, calm |
| Sport | `grace_sport` | 0.95 | 0.95 | Informative, neutral |

### Voice System Files

| File | Purpose |
|------|---------|
| `assets/js/voiceTTS.js` | TTS engine with presets, settings persistence |
| `assets/js/speechQueue.js` | Unified speech queue (prevents overlap) |
| `assets/js/audioManager.js` | Audio playback, intro voices, cooldowns |

---

## üß† Backend / AI System

### Level 5 Brain API

```
Endpoint: http://localhost:3000/api/brain
Method: POST
Provider: OpenAI (configurable via .env)

Headers:
  Content-Type: application/json

Request Body:
{
  "module": "uplift",
  "messages": [
    { "role": "user", "content": "I'm feeling anxious" }
  ],
  "temperature": 0.7,
  "max_tokens": 500
}
```

### System Prompt Includes

- GRACE-X identity & character
- Creator attribution (Zac Crockett)
- Module-specific context
- Character behaviour rules
- Emotional expression rules
- Crisis voice rules

### Backend Files

| File | Purpose |
|------|---------|
| `server/server.js` | Express API server |
| `server/.env` | API keys & configuration |
| `server/package.json` | Node.js dependencies |

### Frontend Brain Files

| File | Purpose |
|------|---------|
| `assets/js/brainLevel5.js` | API wrapper, retry logic |
| `assets/js/brainV5Helper.js` | Module helpers, mic wiring |

### Brain Flow

```
User Input ‚Üí Core Detection ‚Üí Module Router ‚Üí Level 5 API
                                    ‚Üì
                            (If API fails)
                                    ‚Üì
                            Level 1 Fallback (local keyword brain)
```

---

## üîí Safety Architecture

### Escalation Hierarchy

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            CRISIS DETECTED              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                         ‚îÇ
‚îÇ  Guardian‚Ñ¢ ‚îÄ‚îÄ‚ñ∫ Core‚Ñ¢ ‚îÄ‚îÄ‚ñ∫ Uplift‚Ñ¢        ‚îÇ
‚îÇ      ‚îÇ                      ‚îÇ           ‚îÇ
‚îÇ      ‚ñº                      ‚ñº           ‚îÇ
‚îÇ  Child Safety         Mental Health     ‚îÇ
‚îÇ  Online Safety        Crisis Support    ‚îÇ
‚îÇ  Threat Detection     Human Escalation  ‚îÇ
‚îÇ                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Crisis Keywords (Auto-Detect)

These trigger immediate U3 / Crisis Mode:

```javascript
const CRISIS_KEYWORDS = [
  'kill myself', 'want to die', 'suicide', 'self harm',
  'hurt myself', 'end it all', 'better off dead',
  'don\'t want to be here', 'can\'t go on', 'no point living',
  'ending it', 'take my life', 'not worth living'
];
```

### Safety Resources (UK)

| Service | Number | Purpose |
|---------|--------|---------|
| **Samaritans** | 116 123 | 24/7 emotional support (free) |
| **NHS 111** | 111 (option 2) | Mental health crisis |
| **Emergency** | 999 | Immediate danger |
| **Shout** | Text 85258 | Text-based support |
| **Childline** | 0800 1111 | Under 18s (free) |
| **Papyrus** | 0800 068 4141 | Under 35s suicide prevention |
| **CEOP** | ceop.police.uk | Online child safety |

---

## üìÅ Complete File Structure

```
GRACE-X/
‚îú‚îÄ‚îÄ index.html                 # Main SPA entry point
‚îú‚îÄ‚îÄ START_GRACEX.bat           # Windows startup script
‚îú‚îÄ‚îÄ STOP_GRACEX.bat            # Windows shutdown script
‚îú‚îÄ‚îÄ CHECK_GRACEX.bat           # Windows diagnostics
‚îú‚îÄ‚îÄ start_gracex.sh            # Mac/Linux startup
‚îú‚îÄ‚îÄ stop_gracex.sh             # Mac/Linux shutdown
‚îú‚îÄ‚îÄ check_gracex.sh            # Mac/Linux diagnostics
‚îú‚îÄ‚îÄ GRACEX_SYSTEM_SUMMARY.md   # This file
‚îÇ
‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îú‚îÄ‚îÄ core.html              # Hub + Status Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ builder.html           # Construction/Trades
‚îÇ   ‚îú‚îÄ‚îÄ siteops.html           # Project Management
‚îÇ   ‚îú‚îÄ‚îÄ uplift.html            # Mental Health ‚ö†Ô∏è
‚îÇ   ‚îú‚îÄ‚îÄ guardian.html          # Safeguarding ‚ö†Ô∏è
‚îÇ   ‚îú‚îÄ‚îÄ family.html            # Family Hub
‚îÇ   ‚îú‚îÄ‚îÄ sport.html             # Sports Analytics
‚îÇ   ‚îú‚îÄ‚îÄ fit.html               # Fitness
‚îÇ   ‚îú‚îÄ‚îÄ yoga.html              # Mindfulness
‚îÇ   ‚îú‚îÄ‚îÄ chef.html              # Cooking
‚îÇ   ‚îú‚îÄ‚îÄ beauty.html            # Beauty
‚îÇ   ‚îú‚îÄ‚îÄ artist.html            # Creativity
‚îÇ   ‚îú‚îÄ‚îÄ gamer.html             # Gaming
‚îÇ   ‚îú‚îÄ‚îÄ accounting.html        # Finance
‚îÇ   ‚îú‚îÄ‚îÄ tradelink.html         # Trading
‚îÇ   ‚îî‚îÄ‚îÄ osint.html             # Intelligence
‚îÇ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core.js            # Core logic & SPA routing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ coreDashboard.js   # Status dashboard logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ builder.js         # Builder module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ siteops.js         # SiteOps module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ uplift.js          # Uplift (safety-critical)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ guardian.js        # Guardian module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ sport.js           # Sport module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fit.js             # Fit module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chef.js            # Chef module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ beauty.js          # Beauty module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ gamer.js           # Gamer module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accounting.js      # Accounting module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tradelink.js       # TradeLink module logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ voiceTTS.js        # TTS engine & presets
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ speechQueue.js     # Speech queue system
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ audioManager.js    # Audio playback manager
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ brainLevel5.js     # Level 5 API wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ brainV5Helper.js   # Brain panel helpers
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gracex-brain.js    # Local fallback brain
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gracex-v6.css      # Master stylesheet
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ audio/
‚îÇ       ‚îî‚îÄ‚îÄ [module intros]    # Voice intro files
‚îÇ
‚îî‚îÄ‚îÄ server/
    ‚îú‚îÄ‚îÄ server.js              # Express backend API
    ‚îú‚îÄ‚îÄ .env                   # API keys (KEEP SECRET)
    ‚îî‚îÄ‚îÄ package.json           # Node.js dependencies
```

---

## üöÄ Startup Commands

### Windows (Recommended)

```batch
:: Start everything
START_GRACEX.bat

:: Stop servers
STOP_GRACEX.bat

:: Run diagnostics
CHECK_GRACEX.bat
```

### Mac/Linux

```bash
# Make executable (first time only)
chmod +x start_gracex.sh stop_gracex.sh check_gracex.sh

# Start everything
./start_gracex.sh

# Stop servers
./stop_gracex.sh

# Run diagnostics
./check_gracex.sh
```

### Manual Startup

```bash
# Terminal 1: Backend API
cd server
npm install
node server.js
# ‚Üí Runs on http://localhost:3000

# Terminal 2: Frontend Server
npx http-server -p 8080
# ‚Üí Runs on http://localhost:8080

# Open browser
http://localhost:8080
```

---

## üìä Key Data Contracts

### Module ‚Üí Core Output

```javascript
{
  response: "AI response text",
  lane: "U0" | "U1" | "U2" | "U3",  // Uplift only
  escalate: boolean,                 // Trigger escalation
  showResources: boolean             // Show crisis resources
}
```

### Brain API Request

```javascript
// POST http://localhost:3000/api/brain
{
  module: "uplift",
  messages: [
    { role: "user", content: "I'm struggling today" }
  ],
  temperature: 0.7,
  max_tokens: 500
}
```

### Brain API Response

```javascript
{
  success: true,
  response: "I hear you. That sounds really difficult...",
  model: "gpt-4",
  usage: {
    prompt_tokens: 150,
    completion_tokens: 80,
    total_tokens: 230
  }
}
```

### LocalStorage Keys

| Key | Purpose |
|-----|---------|
| `gracex_tts_settings` | Voice settings (voice, rate, pitch, volume) |
| `gracex_dashboard` | Dashboard state & stats |
| `gracex_uplift_mood_history` | Mood tracking data |
| `gracex_builder_projects` | Saved Builder projects |
| `gracex_siteops_projects` | Saved SiteOps projects |
| `gracex_problemsolved` | Problem‚ÜíSolved library |
| `gracex_chef_allergies` | Chef allergy/diet settings |
| `gracex_chef_savings` | Fakeaway savings tracker |

---

## ‚úÖ Implementation Status

| Module | HTML | JS | CSS | Brain | Voice | Status |
|--------|------|----|----|-------|-------|--------|
| Core‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Builder‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| SiteOps‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Uplift‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Guardian‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Family‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Sport‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Fit‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Yoga‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Chef‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Beauty‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Artist‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Gamer‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Accounting‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| TradeLink‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| OSINT‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |
| Forge‚Ñ¢ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | **Complete** |

---

## üîß Environment Configuration

### server/.env Template

```env
# OpenAI (Primary)
OPENAI_API_KEY=sk-your-key-here

# Anthropic (Alternative)
ANTHROPIC_API_KEY=sk-ant-your-key-here

# OpenRouter (Multi-model)
OPENROUTER_API_KEY=sk-or-your-key-here

# Server Config
PORT=3000
NODE_ENV=development

# Model Selection
DEFAULT_MODEL=gpt-4
FALLBACK_MODEL=gpt-3.5-turbo

# Rate Limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100
```

---

## üì° Connectivity Hub (Technical)

### Supported Web APIs

| API | Browser Support | Use Case |
|-----|-----------------|----------|
| **Web Bluetooth** | Chrome, Edge, Opera | BLE devices |
| **Web Serial** | Chrome, Edge, Opera | Serial ports |
| **WebUSB** | Chrome, Edge, Opera | USB devices |
| **Gamepad API** | All major browsers | Game controllers |
| **Web MIDI** | Chrome, Edge, Opera | MIDI instruments |
| **Geolocation** | All major browsers | GPS |
| **DeviceOrientation** | All major browsers | Accelerometer |
| **Battery Status** | Chrome, Edge, Opera | Battery level |
| **Network Information** | Chrome, Edge, Opera | Connection info |

### Bluetooth Services Supported

```javascript
const BLUETOOTH_SERVICES = [
  'heart_rate',           // ‚ù§Ô∏è Heart rate monitors
  'battery_service',      // üîã Battery level
  'device_information',   // ‚ÑπÔ∏è Device info
  'health_thermometer',   // üå°Ô∏è Temperature sensors
  'weight_scale',         // ‚öñÔ∏è Smart scales
  'generic_access',       // Generic BLE
  'generic_attribute'     // Generic BLE
];
```

### Serial Port Configuration

| Setting | Options | Default |
|---------|---------|---------|
| Baud Rate | 9600, 19200, 38400, 57600, 115200 | 115200 |
| Data Bits | 8 | 8 |
| Stop Bits | 1 | 1 |

### Gamepad Visualizer

- **Axes**: Up to 4 axes shown with real-time bars
- **Buttons**: Up to 16 buttons with press indicators
- **Polling Rate**: 50ms (20Hz)

### Location Data Fields

| Field | Description |
|-------|-------------|
| Latitude | GPS latitude in degrees |
| Longitude | GPS longitude in degrees |
| Accuracy | Position accuracy in meters |
| Altitude | Height above sea level (if available) |
| Speed | Movement speed in km/h (if available) |
| Heading | Direction in degrees (if available) |

### Device Sensors

| Sensor | Data Points |
|--------|-------------|
| Orientation | Alpha (Z), Beta (X), Gamma (Y) rotation |
| Motion | X, Y, Z acceleration |
| Battery | Level %, charging status, time to full |

### Connectivity Requirements

‚ö†Ô∏è **Most device APIs require:**
- HTTPS connection (or localhost for development)
- User permission grants
- Compatible browser (Chrome recommended)

---

## üéØ Quick Reference

### Voice Commands (Core-routed)

| Command | Action |
|---------|--------|
| "Open [module]" | Switch to module |
| "Go to core" | Return to Core |
| "Show status" | Open dashboard |
| "Talk to GRACE" | Activate voice input |

### Module-Specific Commands

| Module | Commands |
|--------|----------|
| Builder | "Start capture", "Add measurement", "Generate scope" |
| SiteOps | "Show programme", "What's blocked?", "Add issue" |
| Uplift | "I need help", "Breathing exercise", "Ground me" |

---

## üîê Character Anchor (LOCKED ‚Äî DO NOT MODIFY)

> *"GRACE-X AI‚Ñ¢ speaks with a calm, grounded UK voice that prioritises clarity, safety, and human connection, adapting tone by context while remaining consistent in identity."*

---

## üìú Copyright & Attribution

```
GRACE-X AI‚Ñ¢ Ecosystem
Engineered by Zac Crockett

Sport Module: ¬© Zac Crockett & Jason Treadaway

All Rights Reserved.
```

---

*End of System Summary*

